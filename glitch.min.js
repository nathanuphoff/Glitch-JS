var glitch=function(){"use strict";function c(a,b,c,e){if("string"!=typeof a)return i("An image source is required");if("function"!=typeof b)return i("A callback Function is required");c=j(c,5,100)||25,e=j(e,5,100)||50;var h=/data:[\w\/\w]+;base64,/i.test(a);h?g(f(a,c),b,c,e):d(a,b,c,e)}function d(a,b,d,f){var g=new XMLHttpRequest;g.open("GET",a),g.overrideMimeType("text/plain;charset=x-user-defined"),g.onload=function(){var a=g.response,h=a.substring(0,24).match(/[JFIF|GIF|PNG]+/i);if(h){var i=/JFIF/i.test(h[0])?"jpeg":h[0].toLowerCase(),j=e(a,"image/"+i);c(j,b,d,f)}},g.onerror=function(){i("The image could not be loaded")},g.send()}function e(a,c){for(var g,h,i,d=["data:"+c+";base64,"],e=0,f=a.length;f>e;){if(g=255&a.charCodeAt(e++),e===f){d.push(b.charAt(g>>2)),d.push(b.charAt((3&g)<<4)),d.push("==");break}if(h=a.charCodeAt(e++),e===f){d.push(b.charAt(g>>2)),d.push(b.charAt((3&g)<<4|(240&h)>>4)),d.push(b.charAt((15&h)<<2)),d.push("=");break}i=a.charCodeAt(e++),d.push(b.charAt(g>>2)),d.push(b.charAt((3&g)<<4|(240&h)>>4)),d.push(b.charAt((15&h)<<2|(192&i)>>6)),d.push(b.charAt(63&i))}return d.join("")}function f(a,b){function e(a){var c=a.length,d=Math.sqrt(c*(parseFloat("1e"+c.toString().length)/b)),e=c/d;return a.match(new RegExp(".{1,"+Math.ceil(c/e)+"}","g"))}var c=a.split(","),d=e(c[1],b);return{header:c[0]+",",data:d,slice:d[d.length-1].length}}function g(a,c,d,e){function l(a,c,d){for(var e=j(0|d/10,1,10);e--;){var f=Math.random()*c|0,g=b.charAt(64*Math.random()|0);a=a.substring(0,f)+g+a.substring(++f)}return a}var f=a.data,g=[a.header];if(e--){for(var i=0,k=f.length;k>i;++i)g.push(l(f[i],a.slice,e));h(g.join(""),a,c,d,e)}else c(a.header+f.join(""),!1)}function h(a,b,c,d,e){var f=document.createElement("canvas"),h=f.getContext("2d"),i=new Image;i.onload=function(){h.drawImage(i,0,0,2,2);var f=h.getImageData(0,0,2,2).data,j=Math.floor((f[12]+f[13]+f[14])/3);8>=j||128===j?g(b,c,e,--d):c(a,!0)},i.onerror=function(){g(b,c,e,d)},i.src=a}function i(a){console.error(a)}function j(a,b,c){return b>a?b:a>c?c:a}var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return c}();